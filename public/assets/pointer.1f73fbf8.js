const M={LEFT:0,MIDDLE:1,RIGHT:2};function y(l,p){const a=p||l,{element:d=document,enableRightButton:s,holdDelay:f=400,holdRadius:g=5}=l,e={pressed:{},drag:{x:0,y:0,dX:0,dY:0,xMax:0,yMax:0},dragging:!1,holding:!1};let c=0,u=0,o=0,i=0,t=null;function m(n){n.isPrimary?(e.pressed[n.button]=n,c=o=n.clientX,u=i=n.clientY,e.dragging=!0,t!=null&&clearTimeout(t),t=setTimeout(()=>{e.drag.xMax<g&&e.drag.yMax<g&&(e.holding=!0,a(e))},f)):e.pressed[M.RIGHT]=n,a(e)}function r(n){e.pressed={},delete e.drag.event,e.drag.x=0,e.drag.y=0,e.drag.dX=0,e.drag.dY=0,e.drag.xMax=0,e.drag.yMax=0,e.dragging=!1,e.holding=!1,t!=null&&clearTimeout(t),t=null,a(e)}function v(n){e.dragging&&n.isPrimary&&(e.drag.event=n,e.drag.x=c-n.clientX,e.drag.y=u-n.clientY,e.drag.dX=o-n.clientX,e.drag.dY=i-n.clientY,e.drag.xMax=Math.max(Math.abs(e.drag.x),e.drag.xMax),e.drag.yMax=Math.max(Math.abs(e.drag.y),e.drag.yMax),o=n.clientX,i=n.clientY,a(e))}function x(n){n.preventDefault()}return d.addEventListener("pointerdown",m),document.addEventListener("pointermove",v),document.addEventListener("pointerup",r),document.addEventListener("pointerleave",r),document.addEventListener("pointercancel",r),s&&d.addEventListener("contextmenu",x),a(e),function(){d.removeEventListener("pointerdown",m),document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",r),document.removeEventListener("pointerleave",r),document.removeEventListener("pointercancel",r),s&&d.removeEventListener("contextmenu",x)}}export{M as B,y as p};
