const i={};let n=!1,c=0,t=0;function a(){if(!n)return;const e=performance.now(),o=t&&e-t;t=e;let r=0;for(const l in i)r++,i[l](o);r?requestAnimationFrame(a):(n=!1,t=0)}function d(){n||(t=performance.now(),requestAnimationFrame(a),n=!0)}function f(){n=!1}function g(e,o){return o=o||e.name||c++,i[o]=e,o}let s;function p(e){e.key===s&&(n?f():d())}function m(e=" "){s&&u(),s=e,window.addEventListener("keyup",p)}function u(){window.removeEventListener("keyup",p)}m();(!1).dispose(()=>{u(),f()});export{g as a,d as s};
