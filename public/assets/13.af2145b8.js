var Z=Object.defineProperty;var L=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var P=(t,s,e)=>s in t?Z(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,N=(t,s)=>{for(var e in s||(s={}))q.call(s,e)&&P(t,e,s[e]);if(L)for(var e of L(s))H.call(s,e)&&P(t,e,s[e]);return t};import"./modulepreload-polyfill.b7f2da20.js";import{g as J,b as ee,f as te,t as ae,w as se,k as oe,z as ne}from"./painterState.2081fc22.js";import{a as $}from"./noise.095b1379.js";import{b as R,c as re}from"./lines_3d.f5b3b669.js";import{s as k,l as C,m as j,a as I}from"./vectors.212c15dd.js";import{a as ce,g as ie}from"./ast.22bf2736.js";import{j as U,k as x,o as le,l as V,n as g,w as z,x as v,y as A,u as me,B,Q as de,R as pe,N as M,z as E,$ as ue,M as fe,D as X,O as ge,S as Y,v as y,L as ve,ab as be,V as _}from"./vendor.86045b5f.js";import{c as he}from"./core.f107e89c.js";import{g as we}from"./texture-helpers.e15866c2.js";import"./pointer.1f73fbf8.js";import"./primitives.6d8411f1.js";import"./core.b58d4e59.js";const je=document.getElementById("canvas"),r=J(je),xe=N({},ee);function Me(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2}function Ee(t,s,e=20){const c=k(s,t),d=C(c),l=j(1/d,c),p=[l[1],-l[0]],m=oe(e,1/e).map((o,n)=>o*n),u=m.map(Me).map(o=>o*d),f=Math.random()*10,S=m.map(o=>Math.sin(o*Math.PI)*$(o*3,f)*d/3/e),T=ne((o,n)=>[o,n],u,S).map(([o,n])=>I(I(t,j(o,l)),j(n,p))).concat([s]);return se(2,T).map(([o,n])=>{let w=k(n,o),a=C(w);return R({vertex:o,length:a,direction:j(1/a,w)})}).concat([R({vertex:s,direction:l,length:1/(e*3)})])}function Se(t,s,e){const c=s/e,d=[-t/2,-s/2],l=[t/2,-s/2+c/2],[p,m]=d,[u,f]=l,S=Math.random()*20,T=Math.random()*20,o=a=>t/8*$(a,S),n=a=>c/2*$(a,T);return te(ae(a=>[[[p+o(a),m+c*a+n(a)],[u+o(a+e),f+c*a+n(a+e)]],[[u+o(a+e),f+c*a+n(a+e)],[p+o(a+1),m+c*(a+1)+n(a+1)]]],e)).concat([[[p+o(e),m+s+n(e)],[u+o(e+e),f+s+n(e+e)]]]).flatMap(([a,W])=>Ee(a,W,20))}r.set("lines",{line1:[]});const D=ce(),G=ie();let b,Q,O;const Te=G(U([Q=x("vec2","position"),O=x("vec2","uv"),b=le("vec2","vUv"),V(()=>[g(b,O),g(G.gl_Position,z(v(Q,A(1,-1)),0,1))])]));let K,h,i;const $e=D(U([K=me("sampler2D","noiseTex"),x("vec3","vNormal"),b=x("vec2","vUv"),V(()=>[h=B(de(K,v(b,A(1,10)))),i=B(pe(M(M(M(E(fe(h)),E(X(h))),E(ge(h))),E(ue(h))))),g(i,Y(i,y(.15))),g(i,v(v(i,v(ve(M(y(1),i),Y(X(b),y(4))),.5)),1)),g(D.gl_FragColor,z(be(_(.4,1,.6),_(0,.6,.2),i),i))])])),ye=r.getShade("line").update({vert:Te,frag:$e}),Fe=Se(1,1,5),Le=re(Fe,t=>20*he(.001,.0028,1/(30*30)/Math.pow(t.length,.29)),{withUVs:!0}),Pe=r.getForm("line").update(Le),Ne=r.getLayer("noiseTex").update({texture:we({width:256,height:256,startX:3,startY:3,data:{magFilter:"LINEAR",minFilter:"LINEAR",wrap:"REPEAT"}})}),Re=r.getSketch("line").update({form:Pe,shade:ye,uniforms:{noiseTex:Ne.image()}}),F=r.getLayer("scene").update({sketches:[Re],drawSettings:{clearColor:[1,1,1,1],enable:[r.gl.BLEND,r.gl.CULL_FACE],cullFace:r.gl.BACK},directRender:!0});r.state.time=0;r.state.device.sizeMultiplier=window.devicePixelRatio;r.listen("index",xe.RESIZE,()=>{F.update(),r.painter.compose(F),console.log(F._targets[0].width,r.gl.drawingBufferWidth)});
