var y=Object.defineProperty;var m=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var g=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,p=(o,e)=>{for(var t in e||(e={}))C.call(e,t)&&g(o,t,e[t]);if(m)for(var t of m(e))F.call(e,t)&&g(o,t,e[t]);return o};import"./modulepreload-polyfill.b7f2da20.js";import{g as M,b as P,w as U,t as k}from"./painterState.2081fc22.js";import{a as E,g as _}from"./ast.22bf2736.js";import{j as v,k as i,o as V,l as f,n as r,w as u,x as B,y as G,D as L,M as R}from"./vendor.86045b5f.js";import{b as $,c as A}from"./lines_3d.f5b3b669.js";import{s as I,l as T,d as z}from"./vectors.212c15dd.js";import"./pointer.1f73fbf8.js";import"./primitives.6d8411f1.js";import"./core.b58d4e59.js";import"./core.f107e89c.js";const D=document.getElementById("canvas"),s=M(D),K=p({},P),h=E(),b=_();let n,j,w;const Q=b(v([j=i("vec2","position"),w=i("vec2","uv"),n=V("vec2","vUv"),f(()=>[r(n,w),r(b.gl_Position,u(B(j,G(1,-1)),0,1))])])),W=h(v([n=i("vec2","vUv"),f(()=>[r(h.gl_FragColor,u(R(n),L(n),1,1))])]));function Z(o,e,t){return U(2,k(a=>[(Math.random()-.5)*o,(Math.random()-.5)*e],t)).flatMap(([a,x])=>{const l=I(x,a),d=T(l),S=z(d,l);return $({vertex:a,direction:S,length:d})})}s.state.time=0;s.state.device.sizeMultiplier=window.devicePixelRatio;const q=s.getShade("line").update({vert:Q,frag:W}),H=Z(1.9,1.9,20),J=A(H,.05,{withUVs:!0}),N=s.getForm("line").update(J),O=s.getSketch("line").update({form:N,shade:q}),c=s.getLayer("scene").update({sketches:O,drawSettings:{clearColor:[1,1,1,1],enable:[s.gl.CULL_FACE],cullFace:s.gl.BACK},directRender:!0});s.listen("index",K.RESIZE,()=>{c.update(),s.painter.compose(c),console.log(c._targets[0].width,s.gl.drawingBufferWidth)});
